

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>20. Escribiendo Viewlets &mdash; documentación de Maestría en Plone 4 - 1.2.5a</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="author" title="Sobre este documento"
              href="about.html"/>
    <link rel="top" title="documentación de Maestría en Plone 4 - 1.2.5a" href="index.html"/>
        <link rel="next" title="21. Programando en Plone" href="api.html"/>
        <link rel="prev" title="19. Comportamientos" href="behaviors1.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Maestría en Plone 4
          

          
          </a>

          
            
            
              <div class="version">
                1.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">Sobre &#8220;Maestría en Plone&#8221;</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Instalación y configuración</a></li>
<li class="toctree-l1"><a class="reference internal" href="plone_training_config/instructions.html">3. Instalando Plone para el entrenamiento</a></li>
<li class="toctree-l1"><a class="reference internal" href="anatomy.html">4. La Anatomía de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="case.html">5. El caso de estudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">6. Las características de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring_customizing.html">7. Configurando y personalizando Plone a través de la Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">8. Extendiendo Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="addons.html">9. Extiende Plone con paquetes Complementos</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">10. Temas</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity.html">11. Dexterity - Parte I: A través de la Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildout_1.html">12. Buildout - Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="eggs1.html">13. Creando complementos para personalizar Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_1.html">14. Views - Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="zpt.html">15. Zope Page Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="zpt_2.html">16. Personalizar plantillas existentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_2.html">17. Views - Parte II: Una vista por defecto para la &#8220;charla&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_3.html">18. Views - Parte III: Una lista de Charlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviors1.html">19. Comportamientos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">20. Escribiendo Viewlets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a-viewlet-for-the-social-behavior">Un viewlet para el comportamiento social</a></li>
<li class="toctree-l2"><a class="reference internal" href="#social-viewlet">El viewlet social-viewlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercise-1">Ejercicio 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercise-2">Ejercicio 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">21. Programando en Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="ide.html">22. IDEs y editores</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity_2.html">23. Tipos Dexterity - Parte II: Creciendo</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_search.html">24. Búsqueda personalizada</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">25. Convertir las charlas en eventos</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_generated_content.html">26. Usar contenido generado</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">27. Recursos</a></li>
<li class="toctree-l1"><a class="reference internal" href="thirdparty_behaviors.html">28. Usando comportamientos de complementos de terceros</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity_3.html">29. Tipos Dexterity - III: Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="eggs2.html">30. Creando paquetes reusables con Eggs</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviors2.html">31. Más comportamientos complejos</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewlets_2.html">32. Un viewlet para el comportamiento voteable</a></li>
<li class="toctree-l1"><a class="reference internal" href="reusable.html">33. Haciendo nuestro paquete reusable</a></li>
<li class="toctree-l1"><a class="reference internal" href="embed.html">34. Usando starzel.votable_behavior en ploneconf.site</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment_sites.html">35. Buildout - Parte II: Cómo prepararse para el despliegue</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_of_plone.html">36. El futuro de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="optional.html">37. Opcional</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGES.html">Cambios</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Mapa de ruta</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Maestría en Plone 4</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>20. Escribiendo Viewlets</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="writing-viewlets">
<h1>20. Escribiendo Viewlets<a class="headerlink" href="#writing-viewlets" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">¡Obtén el código!</p>
<p>Obtén el código para este capítulo (<a class="reference internal" href="sneak.html"><span class="doc">Más información</span></a>) usando este comando en el directorio buildout:</p>
<div class="last highlight-bash"><div class="highlight"><pre><span></span>cp -R src/ploneconf.site_sneak/chapters/20_viewlets_1/ src/ploneconf.site
</pre></div>
</div>
</div>
<div class="section" id="a-viewlet-for-the-social-behavior">
<h2>Un viewlet para el comportamiento social<a class="headerlink" href="#a-viewlet-for-the-social-behavior" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un viewlet no es una vista, pero es un fragmento de HTML y la lógica que se puede poner en varios lugares en el sitio. Estos lugares se llaman <code class="docutils literal"><span class="pre">ViewletManager</span></code>.</p>
<ul class="simple">
<li><p class="first">Inspeccione y administre los viewlets existentes yendo a la dirección URL <a class="reference external" href="http://localhost:8080/Plone/&#64;&#64;manage-viewlets">http://localhost:8080/Plone/&#64;&#64;manage-viewlets</a>.</p>
</li>
<li><p class="first">Ya hemos personalizado un viewlet (archivo <code class="file docutils literal"><span class="pre">collophon.pt</span></code>). Ahora agregamos un nuevo viewlet.</p>
</li>
<li><p class="first">Los viewlets no guardan los datos (los portlets si lo hacen)</p>
</li>
<li><p class="first">Los viewlets no tienen interfaz de usuario (los portlets lo hacen)</p>
</li>
</ul>
</div>
<div class="section" id="social-viewlet">
<h2>El viewlet social-viewlet<a class="headerlink" href="#social-viewlet" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Vamos a añadir un enlace al sitio que utiliza la información que hemos recopilado utilizando el comportamiento social.</p>
<p>Registramos el viewlet en el archivo <code class="file docutils literal"><span class="pre">browser/configure.zcml</span></code>.</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;browser:viewlet</span>
  <span class="na">name=</span><span class="s">&quot;social&quot;</span>
  <span class="na">for=</span><span class="s">&quot;ploneconf.site.behaviors.social.ISocial&quot;</span>
  <span class="na">manager=</span><span class="s">&quot;plone.app.layout.viewlets.interfaces.IBelowContentTitle&quot;</span>
  <span class="na">class=</span><span class="s">&quot;.viewlets.SocialViewlet&quot;</span>
  <span class="na">layer=</span><span class="s">&quot;zope.interface.Interface&quot;</span>
  <span class="na">template=</span><span class="s">&quot;templates/social_viewlet.pt&quot;</span>
  <span class="na">permission=</span><span class="s">&quot;zope2.View&quot;</span>
  <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Esto registra un viewlet llamado <code class="docutils literal"><span class="pre">social</span></code>. Es visible en todos los contenidos que implementa la interfaz <code class="docutils literal"><span class="pre">ISocial</span></code> de nuestro comportamiento. También es una buena práctica de obligar a la <a class="reference external" href="http://docs.plone.org/4/en/develop/plone/views/layers.html?highlight=browserlayer#introduction">BrowserLayer</a> llamada <code class="docutils literal"><span class="pre">IPloneconfSiteLayer</span></code> de nuestro complemento por lo que sólo se muestra si nuestro complemento se instala en realidad.</p>
<p>La clase viewlet <code class="docutils literal"><span class="pre">SocialViewlet</span></code> se espera en un archivo <code class="docutils literal"><span class="pre">browser/viewlets.py</span></code>.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plone.app.layout.viewlets</span> <span class="kn">import</span> <span class="n">ViewletBase</span>

<span class="k">class</span> <span class="nc">SocialViewlet</span><span class="p">(</span><span class="n">ViewletBase</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</td></tr></table></div>
<p>Esta clase no hace nada excepto hacer que la plantilla asociada (Eso tenemos que escribir aún)</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Si utilizamos <code class="docutils literal"><span class="pre">Grok</span></code> no necesitaríamos registrar los viewlets en el archivo <code class="docutils literal"><span class="pre">configure.zcml</span></code> pero si hay que hacerlo en código Python. Nos gustaría añadir un archivo viewlets.py que contiene la clase viewlet.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">five</span> <span class="kn">import</span> <span class="n">grok</span>
<span class="kn">from</span> <span class="nn">plone.app.layout.viewlets</span> <span class="kn">import</span> <span class="n">interfaces</span> <span class="k">as</span> <span class="n">viewletIFs</span>
<span class="kn">from</span> <span class="nn">zope.component</span> <span class="kn">import</span> <span class="n">Interface</span>

<span class="k">class</span> <span class="nc">SocialViewlet</span><span class="p">(</span><span class="n">grok</span><span class="o">.</span><span class="n">Viewlet</span><span class="p">):</span>
    <span class="n">grok</span><span class="o">.</span><span class="n">viewletmanager</span><span class="p">(</span><span class="n">viewletIFs</span><span class="o">.</span><span class="n">IBelowContentTitle</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p class="last">Esto haría lo mismo que el código anterior utilizando el paradigma de Grok de la convención sobre configuración. En las browser views la referencia es llamada view, tenga en cuenta que en las viewlets Grok se llama viewlets (en ese caso <code class="docutils literal"><span class="pre">viewlet/lanyrd_link</span></code>).</p>
</div>
<p>Vamos a agregar el archivo de la plantilla restante <code class="file docutils literal"><span class="pre">templates/social_viewlet.pt</span></code>.</p>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;social-links&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span>
       <span class="na">class</span><span class="o">=</span><span class="s">&quot;lanyrd-link&quot;</span>
       <span class="na">tal:define</span><span class="o">=</span><span class="s">&quot;link view/lanyrd_link&quot;</span>
       <span class="na">tal:condition</span><span class="o">=</span><span class="s">&quot;link&quot;</span>
       <span class="na">tal:attributes</span><span class="o">=</span><span class="s">&quot;href link&quot;</span><span class="p">&gt;</span>
         See this talk on Lanyrd!
    <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Como se puede ver esto no es un documento válido HTML. Eso no es necesario, porque no queremos una visión completa aquí, sólo un fragmento de código HTML.</p>
<p>Hay una sentencia <code class="docutils literal"><span class="pre">tal:define</span></code>, para las consultas <cite>view/lanyrd_link</cite>. Al igual en la page templates de la plantilla tiene acceso a su clase.</p>
<p>Tenemos que ampliar el Viewlet Social ahora para añadir el atributo que le falta:</p>
<div class="sidebar">
<p class="first sidebar-title">¿Por qué no acceder directamente contexto?</p>
<p>En este ejemplo, <code class="samp docutils literal"><span class="pre">ISocial(self.context)</span></code> devuelve el contexto directamente. Todavía es bueno utilizar este idioma por dos razones:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p class="first">Se deja en claro, que sólo queremos usar el aspecto ISocial del objeto</p>
</li>
<li><p class="first">Si decidimos utilizar una fábrica, por ejemplo, para almacenar nuestros atributos en una anotación, nosotros deberíamos <cite>no</cite> conseguir nuestro contexto, pero si el adaptador.</p>
</li>
</ol>
</div></blockquote>
<p class="last">Por lo tanto, en este ejemplo, usted puede simplemente escribir <code class="docutils literal"><span class="pre">return</span> <span class="pre">self.context.lanyrd</span></code>.</p>
</div>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plone.app.layout.viewlets</span> <span class="kn">import</span> <span class="n">ViewletBase</span>
<span class="hll"><span class="kn">from</span> <span class="nn">ploneconf.site.behaviors.social</span> <span class="kn">import</span> <span class="n">ISocial</span>
</span>
<span class="k">class</span> <span class="nc">SocialViewlet</span><span class="p">(</span><span class="n">ViewletBase</span><span class="p">):</span>

<span class="hll">    <span class="k">def</span> <span class="nf">lanyrd_link</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="n">adapted</span> <span class="o">=</span> <span class="n">ISocial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">adapted</span><span class="o">.</span><span class="n">lanyrd</span>
</span></pre></div>
</td></tr></table></div>
<p>Hasta ahora, hemos hecho:</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">Registrar el viewlet al contenido que tiene la interfaz iSocial.</p>
</li>
<li><p class="first">Adaptar el objeto a su comportamiento para ser capaz de acceder a los campos del comportamiento.</p>
</li>
<li><p class="first">Devolver el enlace.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="exercise-1">
<h2>Ejercicio 1<a class="headerlink" href="#exercise-1" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Registrar una viewlet &#8216;number_of_talks &#8221; en el pie de página que es visible sólo para los administradores (el permiso que usted busca es <code class="docutils literal"><span class="pre">cmf.ManagePortal</span></code>). Utilice sólo una plantilla (sin clase) para mostrar el número de charlas ya enviadas. Sugerencia: Utilice Adquisición para obtener al catálogo (Usted sabe, no debe hacer esto, pero hay un montón de código por ahí que lo hace...)</p>
<div class="toggle admonition">
<p class="first admonition-title">Solución</p>
<p>Registrar el viewlet en el archivo <code class="file docutils literal"><span class="pre">browser/configure.zcml</span></code></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">browser</span><span class="p">:</span><span class="n">viewlet</span>
  <span class="n">name</span><span class="o">=</span><span class="s2">&quot;number_of_talks&quot;</span>
  <span class="k">for</span><span class="o">=</span><span class="s2">&quot;*&quot;</span>
  <span class="n">manager</span><span class="o">=</span><span class="s2">&quot;plone.app.layout.viewlets.interfaces.IPortalFooter&quot;</span>
  <span class="n">layer</span><span class="o">=</span><span class="s2">&quot;zope.interface.Interface&quot;</span>
  <span class="n">template</span><span class="o">=</span><span class="s2">&quot;templates/number_of_talks.pt&quot;</span>
  <span class="n">permission</span><span class="o">=</span><span class="s2">&quot;cmf.ManagePortal&quot;</span>
  <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Para los parámetros <code class="docutils literal"><span class="pre">for</span></code> y <code class="docutils literal"><span class="pre">layer</span></code> el <code class="docutils literal"><span class="pre">*</span></code> es la abreviatura de <code class="docutils literal"><span class="pre">zope.interface.Interface</span></code> y el mismo efecto que la omisión de ellos: El viewlet se mostrará para todos los tipos de páginas y para todos los sitios de Plone en su instancia Zope.</p>
<p>Agregar el archivo de la plantilla <code class="file docutils literal"><span class="pre">browser/templates/number_of_talks.pt</span></code>:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;number_of_talks&quot;</span>
     <span class="na">tal:define</span><span class="o">=</span><span class="s">&quot;catalog python:context.portal_catalog;</span>
<span class="s">                 talks python:len(catalog(portal_type=&#39;talk&#39;));&quot;</span><span class="p">&gt;</span>
    There are <span class="p">&lt;</span><span class="nt">span</span> <span class="na">tal:replace</span><span class="o">=</span><span class="s">&quot;talks&quot;</span> <span class="p">/&gt;</span> talks.
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">python:context.portal_catalog</span></code> devolverá el catálogo a través de la adquisición. Tenga cuidado si usted desea usar expresiones de rutas: <code class="docutils literal"><span class="pre">content/portal_catalog</span></code> llama el catálogo (y devuelve todos los cerebros). Es necesario para evitar esto usando <code class="docutils literal"><span class="pre">nocall:content/portal_catalog</span></code>.</p>
<p>Basándose en Adquisición es una mala idea. Sería mucho mejor utilizar la helper view <code class="docutils literal"><span class="pre">plone_tools</span></code> desde el módulo <code class="docutils literal"><span class="pre">plone/app/layout/globals/tools.py</span></code> para obtener el catálogo.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;number_of_talks&quot;</span>
     <span class="na">tal:define</span><span class="o">=</span><span class="s">&quot;catalog context/@@plone_tools/catalog;</span>
<span class="s">                 talks python:len(catalog(portal_type=&#39;talk&#39;));&quot;</span><span class="p">&gt;</span>
    There are <span class="p">&lt;</span><span class="nt">span</span> <span class="na">tal:replace</span><span class="o">=</span><span class="s">&quot;talks&quot;</span> <span class="p">/&gt;</span> talks.
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">context/&#64;&#64;plone_tools/catalog</span></code> atraviesa a la vista <code class="docutils literal"><span class="pre">plone_tools</span></code> y llama a su método <code class="docutils literal"><span class="pre">catalog</span></code>. En expresiones Python debería verse así:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;number_of_talks&quot;</span>
     <span class="na">tal:define</span><span class="o">=</span><span class="s">&quot;catalog python:context.restrictedTraverse(&#39;plone_tools&#39;).catalog();</span>
<span class="s">                 talks python:len(catalog(portal_type=&#39;talk&#39;));&quot;</span><span class="p">&gt;</span>
    There are <span class="p">&lt;</span><span class="nt">span</span> <span class="na">tal:replace</span><span class="o">=</span><span class="s">&quot;talks&quot;</span> <span class="p">/&gt;</span> talks.
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p class="last">No es una buena práctica consultar el catálogo dentro de una plantilla, ya que incluso la simple lógica como este debería vivir en Python. Pero es muy poderoso si está depurando o necesita una solución rápida y sucia.</p>
</div>
</div>
<div class="section" id="exercise-2">
<h2>Ejercicio 2<a class="headerlink" href="#exercise-2" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Registrar una viewlet &#8216;days_to_conference&#8217; en la cabecera. Utilice una clase y una plantilla para mostrar el número de días hasta la conferencia. Usted consigue muchos puntos de bonificación si se muestra en un formato agradable (pensar &#8220;En 2 días&#8221; y &#8220;Último mes&#8221;) utilizando un Javascript existentes o biblioteca Python.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="21. Programando en Plone" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="behaviors1.html" class="btn btn-neutral" title="19. Comportamientos" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright El texto y las ilustraciones en este sitio Web esta licenciadas por la Plone Foundation bajo la licencia Creative Commons Attribution 4.0 International.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.5a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>


</body>
</html>