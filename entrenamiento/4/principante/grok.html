

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Grok &mdash; documentación de Maestría en Plone 4 - 1.2.5a</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="author" title="Sobre este documento"
              href="about.html"/>
    <link rel="top" title="documentación de Maestría en Plone 4 - 1.2.5a" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Maestría en Plone 4
          

          
          </a>

          
            
            
              <div class="version">
                1.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">Sobre &#8220;Maestría en Plone&#8221;</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Instalación y configuración</a></li>
<li class="toctree-l1"><a class="reference internal" href="plone_training_config/instructions.html">3. Instalando Plone para el entrenamiento</a></li>
<li class="toctree-l1"><a class="reference internal" href="anatomy.html">4. La Anatomía de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="case.html">5. El caso de estudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">6. Las características de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring_customizing.html">7. Configurando y personalizando Plone a través de la Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">8. Extendiendo Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="addons.html">9. Extiende Plone con paquetes Complementos</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">10. Temas</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity.html">11. Dexterity - Parte I: A través de la Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildout_1.html">12. Buildout - Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="eggs1.html">13. Creando complementos para personalizar Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_1.html">14. Views - Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="zpt.html">15. Zope Page Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="zpt_2.html">16. Personalizar plantillas existentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_2.html">17. Views - Parte II: Una vista por defecto para la &#8220;charla&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_3.html">18. Views - Parte III: Una lista de Charlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviors1.html">19. Comportamientos</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewlets_1.html">20. Escribiendo Viewlets</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">21. Programando en Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="ide.html">22. IDEs y editores</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity_2.html">23. Tipos Dexterity - Parte II: Creciendo</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_search.html">24. Búsqueda personalizada</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">25. Convertir las charlas en eventos</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_generated_content.html">26. Usar contenido generado</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">27. Recursos</a></li>
<li class="toctree-l1"><a class="reference internal" href="thirdparty_behaviors.html">28. Usando comportamientos de complementos de terceros</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity_3.html">29. Tipos Dexterity - III: Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="eggs2.html">30. Creando paquetes reusables con Eggs</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviors2.html">31. Más comportamientos complejos</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewlets_2.html">32. Un viewlet para el comportamiento voteable</a></li>
<li class="toctree-l1"><a class="reference internal" href="reusable.html">33. Haciendo nuestro paquete reusable</a></li>
<li class="toctree-l1"><a class="reference internal" href="embed.html">34. Usando starzel.votable_behavior en ploneconf.site</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment_sites.html">35. Buildout - Parte II: Cómo prepararse para el despliegue</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_of_plone.html">36. El futuro de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="optional.html">37. Opcional</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGES.html">Cambios</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Mapa de ruta</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Maestría en Plone 4</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Grok</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="grok">
<h1>Grok<a class="headerlink" href="#grok" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Grok es un lenguaje de declaración alternativo para declarar sus componentes. Es compatible con la arquitectura de componentes de Zope, utilizó sólo una sintaxis alternativa.</p>
<p>En lugar de escribir archivos zcml separados, usted anota su código fuente y cree contenido conforme a nombres de archivo específicos para que se encuentren automáticamente. Ha habido discusiones si grok se debe utilizar en el núcleo del plone. La comunidad plone decidió en contra, porque aumenta la pila de tecnología sin agregar funcionalidad.</p>
<p>Algunas personas incluso están en contra de usarlo en Complementos, porque no habría una sola manera de declarar componentes, sino dos. Entonces hay una última desventaja, los componentes grok no pueden ser sobre-escritos por el paquete z3c.jbot. No me sorprendería si esto podría arreglarse.</p>
<p>Después de todas estas cosas negativas vamos a decirle por qué todavía nos gusta: Nos gusta escribir como pocas líneas de código y configuración como sea posible.</p>
<p>Por lo tanto, vamos a escribir nuestra browser view como una vista grok. Desde el lado de la arquitectura de componentes, nada cambia. Todavía tenemos que escribir un adaptador múltiple. Todos los detalles como la plantilla a utilizar o para qué browser layer se utilizará la vista se declarará con una sola anotación de línea o se deducirá de los nombres de archivo.</p>
<div class="admonition seealso">
<p class="first admonition-title">Ver también</p>
<p class="last"><a class="reference external" href="http://docs.plone.org/4/en/appendices/five-grok/index.html">http://docs.plone.org/4/en/appendices/five-grok/index.html</a></p>
</div>
<p>Grok no es parte de plone. Tenemos que añadirlo como una dependencia de nuestro paquete egg.</p>
<p>Open setup.py, and add <code class="docutils literal"><span class="pre">five.grok</span></code> to the list off addons in <code class="docutils literal"><span class="pre">install_requires</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...</span>
    <span class="n">zip_safe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;setuptools&#39;</span><span class="p">,</span>
        <span class="s1">&#39;five.grok&#39;</span><span class="p">,</span>
    <span class="p">],</span>
</pre></div>
</div>
<p>Usted necesita ejecutar buildout ahora.</p>
<p>Grok casi mágicamente encuentra todas sus anotaciones. Puesto que su magia no es completa, tienes que decirle a grok dónde buscar código grok. Esto requiere una sola línea de zcml, esa línea asegura que su paquete sea completamente <cite>grokked</cite>.</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;configure</span>
    <span class="na">xmlns=</span><span class="s">&quot;http://namespaces.zope.org/zope&quot;</span>
    <span class="na">xmlns:five=</span><span class="s">&quot;http://namespaces.zope.org/five&quot;</span>
    <span class="na">xmlns:i18n=</span><span class="s">&quot;http://namespaces.zope.org/i18n&quot;</span>
    <span class="na">xmlns:genericsetup=</span><span class="s">&quot;http://namespaces.zope.org/genericsetup&quot;</span>
<span class="hll">    <span class="na">xmlns:grok=</span><span class="s">&quot;http://namespaces.zope.org/grok&quot;</span>
</span>    <span class="na">xmlns:plone=</span><span class="s">&quot;http://namespaces.plone.org/plone&quot;</span>
    <span class="na">i18n_domain=</span><span class="s">&quot;ploneconf.site&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;includeDependencies</span> <span class="na">package=</span><span class="s">&quot;.&quot;</span> <span class="nt">/&gt;</span>

<span class="hll">    <span class="nt">&lt;grok:grok</span> <span class="na">package=</span><span class="s">&quot;.&quot;</span> <span class="nt">/&gt;</span>
</span>    ....
</pre></div>
</td></tr></table></div>
<p>Esta nueva declaración grok se encarga de encontrar todo lo relacionado con grok.</p>
<p>Ahora nosotros agregamos una vista grok en el nuevo archivo <code class="docutils literal"><span class="pre">views.py</span></code>:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">five</span> <span class="kn">import</span> <span class="n">grok</span>
<span class="kn">from</span> <span class="nn">plone.directives</span> <span class="kn">import</span> <span class="n">dexterity</span>
<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">Interface</span>


<span class="k">class</span> <span class="nc">TalkView</span><span class="p">(</span><span class="n">dexterity</span><span class="o">.</span><span class="n">DisplayForm</span><span class="p">):</span>
    <span class="n">grok</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s2">&quot;zope2.View&quot;</span><span class="p">)</span>
    <span class="n">grok</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">Interface</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Por convención, la plantilla debe estar en un sub-directorio llamado <code class="docutils literal"><span class="pre">views_templates</span></code> y debe llamarse <cite>talkview.pt</cite></p>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright El texto y las ilustraciones en este sitio Web esta licenciadas por la Plone Foundation bajo la licencia Creative Commons Attribution 4.0 International.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.5a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>


</body>
</html>