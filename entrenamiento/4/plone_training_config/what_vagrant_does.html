

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lo qué es y lo hace Vagrant &mdash; documentación de Maestría en Plone 4 - 1.2.5a</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="author" title="Sobre este documento"
              href="../about.html"/>
    <link rel="top" title="documentación de Maestría en Plone 4 - 1.2.5a" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Maestría en Plone 4
          

          
          </a>

          
            
            
              <div class="version">
                1.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">Sobre &#8220;Maestría en Plone&#8221;</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">1. Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Instalación y configuración</a></li>
<li class="toctree-l1"><a class="reference internal" href="instructions.html">3. Instalando Plone para el entrenamiento</a></li>
<li class="toctree-l1"><a class="reference internal" href="../anatomy.html">4. La Anatomía de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case.html">5. El caso de estudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">6. Las características de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuring_customizing.html">7. Configurando y personalizando Plone a través de la Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">8. Extendiendo Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addons.html">9. Extiende Plone con paquetes Complementos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theming.html">10. Temas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity.html">11. Dexterity - Parte I: A través de la Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../buildout_1.html">12. Buildout - Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eggs1.html">13. Creando complementos para personalizar Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_1.html">14. Views - Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zpt.html">15. Zope Page Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zpt_2.html">16. Personalizar plantillas existentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_2.html">17. Views - Parte II: Una vista por defecto para la &#8220;charla&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_3.html">18. Views - Parte III: Una lista de Charlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../behaviors1.html">19. Comportamientos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewlets_1.html">20. Escribiendo Viewlets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">21. Programando en Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide.html">22. IDEs y editores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity_2.html">23. Tipos Dexterity - Parte II: Creciendo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../custom_search.html">24. Búsqueda personalizada</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events.html">25. Convertir las charlas en eventos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_generated_content.html">26. Usar contenido generado</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">27. Recursos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thirdparty_behaviors.html">28. Usando comportamientos de complementos de terceros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity_3.html">29. Tipos Dexterity - III: Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eggs2.html">30. Creando paquetes reusables con Eggs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../behaviors2.html">31. Más comportamientos complejos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewlets_2.html">32. Un viewlet para el comportamiento voteable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reusable.html">33. Haciendo nuestro paquete reusable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../embed.html">34. Usando starzel.votable_behavior en ploneconf.site</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment_sites.html">35. Buildout - Parte II: Cómo prepararse para el despliegue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../future_of_plone.html">36. El futuro de Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optional.html">37. Opcional</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Cambios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Mapa de ruta</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Maestría en Plone 4</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Lo qué es y lo hace Vagrant</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="what-vagrant-is-and-does">
<h1>Lo qué es y lo hace Vagrant<a class="headerlink" href="#what-vagrant-is-and-does" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Estos pasos son realizados automáticamente por Vagrant y Puppet para usted. Ellos están solamente interesantes si quieres saber lo que pasa bajo el capó para la preparación de su entorno de entrenamiento virtual.</p>
</div>
<p>Vagrant es una herramienta de automatización para que los desarrolladores puedan programar la configuración y arrancar / parar máquinas virtuales usando aplicaciones como VirtualBox o Vmware Fusion / Workstation. La belleza de Vagrant es que es en gran parte independiente de la plataforma para Linux, Windows y Apple, por lo que con un archivo &#8216;Vagrantfile&#8217; por proyecto se describe una imagen virtual de instalación base y todo tipo de configuración de máquina virtual que de lo contrario tendría que hacer clic y escribir juntos la máquina virtual de la Aplicación.</p>
<p>Lo que hace Vagrant, por ejemplo, es instalar un puerto hacia adelante de modo que <code class="docutils literal"><span class="pre">http://localhost:8080</span></code> en su computadora física se reenvíe automáticamente al puerto que Plone escuchará en la máquina virtual invitada. Después de que Vagrant haya hecho lo suyo para configurar su máquina virtual, no hemos terminado. Aunque Vagrant tiene la opción de pre-construir imágenes específicas sería mucho trabajo y desperdicio de ancho de banda descargando de nuevo una máquina de imágenes (los cuales son de 300 a 600 Mb) cada vez que nos gustaría cambiar cosas pequeñas en nuestro entorno de formación virtual.</p>
<p>Puppet es una herramienta de gestión de la configuración (otros de los que habrás oído hablar son Chef, Ansible y SaltStack) y ayuda a los administradores de sistemas a gestionar automáticamente servidores (reales y virtuales). No vamos a entrar en Puppet en detalle, sino que se basa en la parte superior de nuestra imagen base Vagrant para configurar aún más nuestro medio ambiente.</p>
<p>Vagrant detecta cuando se configura una nueva máquina y se ejecuta Puppet u otros Provisioners por defecto sólo una vez, aunque también se puede utilizar para mantener las máquinas al día, lo que es un poco más difícil. Consulte la documentación del archivo <code class="docutils literal"><span class="pre">Vagrantfile</span></code>  y de <a class="reference external" href="https://www.vagrantup.com/docs">Vagrant</a> en si mismo, especialmente el capítulo `` Provisioning``.</p>
<p>Esto es básicamente lo que hace Puppet si configuráramos nuestro sistema a mano:</p>
<p>Primero nosotros actualizamos Ubuntu e instalamos algunos paquetes.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo aptitude update --quiet --assume-yes
$ sudo apt-get install build-essential
$ sudo apt-get install python-dev
$ sudo apt-get install python-tk
$ sudo apt-get install libjpeg-dev
$ sudo apt-get install libxml2-dev
$ sudo apt-get install libxslt-dev
$ sudo apt-get install git
$ sudo apt-get install libz-dev
$ sudo apt-get install libssl-dev
$ sudo apt-get install subversion
$ sudo apt-get install wget
$ sudo apt-get install curl
$ sudo apt-get install elinks
$ sudo apt-get install vim
$ sudo apt-get install gettext
$ sudo apt-get install python-virtualenv
$ sudo apt-get install putty-tools
</pre></div>
</div>
<p>Entonces creamos un entorno virtual de python usando virtualenv. Esta es siempre una buena práctica ya que de esa manera conseguimos una copia limpia y aislada de nuestro sistema python, para que no rompamos el sistema python mediante la instalación de paquete egg python que podrían colisionar con otros paquete egg python. Python se utiliza hoy en día mucho por su sistema operativo, así como para todo tipo de herramientas de sistema y secuencias de comandos.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ virtualenv --no-site-packages /home/vagrant/py27
</pre></div>
</div>
<p>Ahora descargamos y descomprimimos el directorio buildout-cache que contiene todos los paquetes python que componen Plone. Esta es una optimización: Podríamos saltar este paso y tener buildout descargar todos los paquetes individualmente del <a class="reference external" href="https://pypi.python.org/pypi">python packaging index PyPi</a> pero eso toma mucho más tiempo en una primera instalación.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ wget http://dist.plone.org/release/4.3.10/buildout-cache.tar.bz2
$ tar xjf buildout-cache.tar.bz2
</pre></div>
</div>
<p>Entonces nosotros comprobamos nuestro buildout del tutorial de <a class="reference external" href="http://github.com/collective/training_buildout">http://github.com/collective/training_buildout</a>, nos cambiamos a la rama <em>plone4</em> y lo construimos.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /vagrant
$ git clone https://github.com/collective/training_buildout.git buildout
$ <span class="nb">cd</span> buildout
$ git checkout plone4
$ /home/vagrant/py27/bin/python bootstrap.py
$ ./bin/buildout -c vagrant_provisioning.cfg
</pre></div>
</div>
<p>Esto descargará adicionales de paquetes egg que aún no forman parte del directorio buildout-cache y configurará Plone para que esté listo para ejecutarse.</p>
<p>En este punto Vagrant y Puppet han terminado su trabajo para configurar su entorno de entrenamiento virtual en su máquina local.</p>
<p>Ahora puede conectarse a la máquina y iniciar a Plone.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ vagrant ssh
$ <span class="nb">cd</span> /vagrant/buildout
$ ./bin/instance <span class="nb">fg</span>
</pre></div>
</div>
<p>Ahora tenemos un servidor de aplicación Zope basado en Buildout, dispuesto a agregar un sitio Plone. Ir a <a class="reference external" href="http://localhost:8080">http://localhost:8080</a> y cree un sitio Plone.</p>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright El texto y las ilustraciones en este sitio Web esta licenciadas por la Plone Foundation bajo la licencia Creative Commons Attribution 4.0 International.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.5a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>


</body>
</html>